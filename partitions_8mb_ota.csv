# ESP32-S3 Partition Table for Scribe Printer (8MB Flash, OTA Support)
#
# IMPORTANT: ESP32 FILESYSTEM NAMING CONFUSION:
# - We use LittleFS as our actual filesystem (see platformio.ini: board_build.filesystem = littlefs)
# - The partition subtype MUST be "spiffs" (0x82) - this is the only valid filesystem subtype
# - The partition name is "littlefs" for clarity, but the subtype must remain "spiffs"
#
# ESP32-S3 8MB Flash Layout with OTA:
# - Total: 8MB (0x800000)
# - NVS: 32KB (config storage - increased from 20KB to prevent exhaustion)
# - OTA Data: 8KB (OTA boot selector)
# - app0: 2.5MB (primary firmware slot - starts at 0x20000 due to NVS size)
# - app1: 2.5MB (secondary firmware slot for OTA updates)
# - LittleFS: 2.88MB (filesystem for web assets)
#
# CRITICAL: App partitions MUST start at 0x10000 (64KB) aligned addresses!
# Valid: 0x10000, 0x20000, 0x30000, 0x2A0000, etc.
# Invalid: 0x12000, 0x13000, 0x15000 (causes "Offset not aligned" build error)
#
# Name,     Type, SubType,  Offset,   Size,     Flags
nvs,        data, nvs,      0x9000,   0x8000,
otadata,    data, ota,      0x11000,  0x2000,
app0,       app,  ota_0,    0x20000,  0x280000,
app1,       app,  ota_1,    0x2A0000, 0x280000,
littlefs,   data, spiffs,   0x520000, 0x2E0000,
